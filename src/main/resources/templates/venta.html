<!--       fin de la cabecera -->
<div id="contenedor_venta">
	<div class="row">
		<div class="col-md-6">
			<div class="widget-small info coloured-icon">
				<i class="icon fas fa-chart-bar fa-3x"></i>
				<div class="info">
					<h4>La Mayor Venta es ...</h4>
					<p>
						<b>S/. 2500.00</b>
					</p>
				</div>
			</div>
		</div>
		<div class="col-md-6">
			<div class="widget-small info coloured-icon">
				<i class="icon fas fa-chart-bar fa-3x"></i>
				<div class="info">
					<h4>La menor Venta es ...</h4>
					<p>
						<b>S./ 375.00</b>
					</p>
				</div>
			</div>
		</div>
	</div>
	<!--       fin de la cabecera  -->
	<h1>Lista de las ventas generales</h1>

	<!-- 		inicio de boton nueva venta -->
	<header style="width: 100%; margin-left: 1000px;">
		<a href="#" id="new_sale" style="color: #9980FA;"><i
			class="fas fa-plus-circle fa-3x"></i></a>
	</header>
	<!-- 			inicio del boton de busqueda  -->
	<div class="col-lg-6">
		<div class="input-group" style="align-content: center;">
			<input type="text" class="form-control" placeholder="Buscar por..."
				id="boton_buscar"> <span class="input-group-btn">
				<button class="btn btn-success" type="button">
					<i class="fas fa-search"></i>
				</button>
			</span>
		</div>
		<!-- /input-group -->
	</div> <!-- /.col-lg-6 -->
	<hr>
	<!-- 			fin de boton nueva venta -->
	<!--      inicio del contenido especial de la venta -->
	<div class="tile container"
		style="overflow-y: scroll; overflow-x: hidden; height: 600px;">

		<table class="table table-hover text-left " id="tablita">
			<thead>
				<tr>
					<th scope="col">ID</th>
					<th scope="col">N°</th>
					<th scope="col">MONTO TOTAL</th>
					<th scope="col">FECHA</th>
					<th scope="col">ESTADO</th>
					<th scope="col">CLIENTE</th>
					<th scope="col" colspan='2'>VER DETALLE</th>
				</tr>
			</thead>
			<tbody id="tablon">

			</tbody>
		</table>
	</div>
</div>
<!-- 		fin del contenido especial de la venta -->

<!--     fin de las etiquetas -->

<!-- 	modal del detalle de la venta  -->
<div class="modal fade bd-example-modal-xl" id="modalone" tabindex="-1"
	role="dialog" aria-labelledby="exampleModalScrollableTitle"
	aria-hidden="true">
	<div class="modal-dialog modal-dialog-scrollable" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalScrollableTitle">DETALLES</h5>
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body" id="cuerpo_detalle"
				style="border: solid #273c75 2px; border-radius: 5px; padding: 3px;">
				<div class="row" style="padding: 4px;">
					<div class="col-xs-8 col-md-8">
						<h3>LIBRERIA EDICIONES ADEVENIR</h3>
						<h5>De: MELLADO HUAPAYA, Roberto</h5>
						<h5>Av. Bernard Balaguer - alameda - Ñaña</h5>
					</div>
					<div class="col-xs-4 col-md-4">
						<label>RUC:</label> <input type="text" class="form-control"
							id="ruc_empresa" disabled="disabled" />
						<hr>
						<label>BOLETA DE VENTA</label>
						<hr>
						<input type="text" class="form-control" id="numero_ticket"
							value="A00001-" disabled="disabled" />
					</div>
				</div>
				<div class="form-group form-inline">
					<h5 id="cabecera"></h5>
					<input type="number" class="form-control" id="id_presta"
						style="width: 100px; background-color: #fff; color: #1e272e; height: 15px; border: none;">
				</div>
				<div class="form-group form-inline">
					<label>Sr:</label> <input type="text" class="form-control"
						id="nombre_cliente"
						style="width: 300px; background-color: #fff; color: #1e272e; height: 15px; border: none;">
				</div>
				<div class="form-group form-inline">
					<label>Fecha:</label> <input type="text" class="form-control"
						id="fecha_venta"
						style="width: 200px; background-color: #fff; color: #1e272e; height: 15px; border: none;">
				</div>
				<table
					class="table table-responsive table-striped table-hover text-left "
					id="tabla_detallito">
					<thead>
						<tr>
							<th scope="col">ID</th>
							<th scope="col">N°</th>
							<th scope="col">CANTIDAD</th>
							<th scope="col">NOMBRE</th>
							<th scope="col">PRECIO U</th>
							<th scope="col">SUB TOTAL</th>
							<th scope="col">DESCUENTO</th>
						</tr>
					</thead>
					<tbody>

					</tbody>
				</table>
				<div class="container">
					<div class="row">
						<div class="col-xs-6 col-sm-6 col-md-4">
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text">S/.</span>
								</div>
								<input type="number" class="form-control" id="monto_totall"
									disabled="disabled">
							</div>
						</div>

						<div class="col-xs-6 col-sm-6 col-md-8">
							<p style="font-style: italic;">"Viviendo por Cristo hasta su
								venida"</p>
						</div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
				<button type="button" onclick="generar()" class="btn btn-primary"
					target="_blank">Imprimir</button>
			</div>
		</div>
	</div>
</div>
<!-- 	fin del modal detalle  -->


<!-- Essential javascripts for application to work-->
<script src="js/venta.js"></script>
<script src="js/printThis.js"></script>
<script>
	var opciones = {
		importCSS : false,
		loadCSS : "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
	}

	function generar() {
		$('#cuerpo_detalle').printThis(opciones);
	}

	$("#new_sale").click(function() {
		console.log("estamos en la funcion :v ");
		$.get("/agregar_venta", function(htmlexterno) {
			$("#contenedor_venta").html(htmlexterno);
		});
	});

	// aqui establecemos el input de busqueda 
	$('#boton_buscar').on('keyup', function() {
		var value = $(this).val();
		var patt = new RegExp(value, "i");
		$('#tablon').find('tr').each(function() {
			if (!($(this).find('td').text().search(patt) >= 0)) {
				$(this).not('.myHead').hide();
			}
			if (($(this).find('td').text().search(patt) >= 0)) {
				$(this).show();
			}
		});
	});
</script>